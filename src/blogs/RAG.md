---
title: RAG
date: 2025-10-25
category: 面试
---

## RAG

### RAG流程

文档索引阶段：文档加载 -> 文本分块 -> 向量化 -> 存储

检索与生成阶段：用户查询 -> 向量化 -> 检索 -> 构建prompt -> 生成答案

### RAG优化方法

**检索前：**

1）采用合适的文本分块策略

2）查询重述，多查询

3）假设文档嵌入（HyDE）

**检索中：**

1）混合检索：BM25 + 向量相似度检索

**检索后：**

1）rrf：多排名融合算法

2）使用reranker模型进行精排

### RAG评估方法

人工评估：由运营部门人工测试

技术评估：召回率，精确率，F1分数，上下文相关程度

### GraphRAG

基于知识图谱的RAG技术，可以基于实体和关系进行多跳推理，对复杂的全局性和推理性检索任务

1）可以基于产品的分类，属性，标签来进行推理，检索更精确

2） 可以捕捉产品之间的隐含关系，减少大模型的幻觉

3）相比较传统文档检索，返回的数据是结构化的，响应速度更快，用户体验更好